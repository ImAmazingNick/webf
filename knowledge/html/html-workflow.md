# HTML Static Pages — Build Workflow

<!--
  version:  1.0
  updated:  2026-02-23
  purpose:  Step-by-step build sequence for generating self-contained HTML page files
  parallel: knowledge/nextjs/nextjs-workflow.md (same role, different output target)
-->

> This workflow generates single-file HTML pages from messaging content. Each page is self-contained with embedded CSS and a Google Fonts CDN link. No JavaScript, no external stylesheets, no build step required. Open directly in any browser.

---

## Build Sequence

### Use Case Page Generation

```
1. READ messaging file
   → knowledge/messaging/use-cases/{slug}.md
   → Extract all 8 sections: hook, problem, foundation, solution,
     before_after, knowledge_graph, social_proof, cta, seo

2. READ element patterns
   → knowledge/html/html-element-patterns.md
   → Load section-to-HTML mapping and component patterns

3. READ style reference
   → knowledge/html/html-style-reference.md
   → Load CSS variables, typography classes, responsive breakpoints

4. READ brand guide
   → knowledge/branding/improvado-agent.md
   → Load banned words, tone rules, approved phrases

5. READ page spec (for structural context)
   → knowledge/pages/use-case.md
   → Confirm 8-section structure and section rhythm

6. TRANSFORM each messaging section → HTML section(s)
   → Follow the element patterns exactly
   → Apply theme classes per the alternation pattern
   → Strip markdown prefixes (e.g., "- → " from pain bullets)
   → Parse tables into HTML <table> elements
   → Convert **accent** to <span class="accent">
   → Parse blockquotes into styled quote elements

7. ASSEMBLE complete HTML document
   → DOCTYPE, html lang="en"
   → Head: meta charset, viewport, title, description
   → Google Fonts link (Inter + Raleway)
   → Embedded <style> block with all CSS
     (variables, reset, layout, typography, components, responsive, accessibility)
   → Body: sections in order S1 → S8
   → No nav, no footer (content sections only)

8. VALIDATE before writing
   → All 8 sections present (S3 has 3 sub-sections, S7 conditional)
   → No banned words in any text content
   → Word counts: hero H1 8–12, hero subtitle 20–30, CTA headline 8–14
   → Theme alternation: dark → light → dark → light → warm → dark → light → dark
   → All section IDs unique
   → Mint never used as text on light/warm/white backgrounds
   → Valid HTML5 structure (proper nesting, closed tags)

9. WRITE output file
   → output/html/pages/use-cases/{slug}.html
   → Include generation comment in <head>

10. RUN QA (optional)
    → Invoke @orchestrator with mode=html, file_path=output/html/pages/use-cases/{slug}.html
    → Evaluator opens file in browser, runs 47 checks
    → Healer uses Edit tool for fixes
```

### Homepage Generation

```
1. READ homepage spec
   → knowledge/pages/homepage.md

2. READ core messaging
   → knowledge/messaging/core/knowledge-graph.md

3. READ section guides (for each section being built)
   → knowledge/sections/hero.md
   → knowledge/sections/pain.md
   → knowledge/sections/solution-steps.md
   → knowledge/sections/product-features.md
   → knowledge/sections/testimonials.md
   → knowledge/sections/enterprise-trust.md

4. READ element patterns + style reference + brand guide (same as use case flow)

5. TRANSFORM each homepage section → HTML section(s)
   → See homepage mapping table in html-element-patterns.md

6–10. Same as use case flow (assemble, validate, write, QA)
   → Output: output/html/pages/homepage.html
```

---

## Output File Structure

```
output/
  html/
    pages/
      homepage.html
      use-cases/
        cross-channel-campaign-intelligence.html
        call-intelligence.html
        executive-reporting.html
        churn-prevention.html
        revenue-attribution.html
        agency-command-center.html
        data-quality-governance.html
```

---

## Output File Format

```html
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{seo.title}</title>
<meta name="description" content="{seo.description}">
<!-- Generated by @html-generator -->
<!-- Source: knowledge/messaging/use-cases/{slug}.md -->
<!-- Date: {YYYY-MM-DD} -->
<!-- Do not edit directly — regenerate from messaging file if changes needed. -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Raleway:wght@600;700;800&display=swap" rel="stylesheet">
<style>
  /* Full CSS from html-style-reference.md embedded here */
</style>
</head>
<body>
  <a href="#s1-hero" class="skip-link">Skip to content</a>

  <!-- S1: Hero -->
  <section id="s1-hero" class="section s-hero bg-dark">...</section>

  <!-- S2: Pain -->
  <section id="s2-pain" class="section bg-light">...</section>

  <!-- S3: Foundation -->
  <section id="s3-foundation" class="section bg-dark">...</section>

  <!-- S4: Solution -->
  <section id="s4-solution" class="section bg-light">...</section>

  <!-- S5: Before/After -->
  <section id="s5-comparison" class="section bg-warm">...</section>

  <!-- S6: Knowledge Graph -->
  <section id="s6-knowledge" class="section bg-dark">...</section>

  <!-- S7: Social Proof (conditional) -->
  <section id="s7-proof" class="section bg-light">...</section>

  <!-- S8: CTA -->
  <section id="s8-cta" class="section bg-dark cta-section">...</section>
</body>
</html>
```

---

## Theme Alternation

| S# | Theme Class | Background Color | Section |
|---|---|---|---|
| S1 | `bg-dark` | Deep Purple `#20124d` | Hero |
| S2 | `bg-light` | Light `#f1f5ff` | Pain/Problem |
| S3 | `bg-dark` | Deep Purple `#20124d` | Foundation |
| S4 | `bg-light` | Light `#f1f5ff` | Solution |
| S5 | `bg-warm` | Warm `#f9f8f6` | Before/After |
| S6 | `bg-dark` | Deep Purple `#20124d` | Knowledge Graph |
| S7 | `bg-light` | Light `#f1f5ff` | Social Proof |
| S8 | `bg-dark` | Deep Purple `#20124d` | CTA |

---

## Rules

1. **All text comes from messaging files.** Never invent copy. If a field is empty in the messaging file, leave the element empty or omit it.

2. **Banned words check is mandatory.** Scan every text node before writing. If found, add `<!-- WARNING: banned word "{word}" -->` comment and report it.

3. **Theme alternation is structural.** Don't assign theme classes based on aesthetics — follow the prescribed pattern.

4. **Transform messaging markdown to semantic HTML.** `**accent**` becomes `<span class="accent">`. Tables become `<table>`. Blockquotes become styled cards or callouts. `####` headings become `<h3>`.

5. **Strip messaging-specific prefixes.** Pain bullets start with `- → ` — strip to just the text.

6. **One file per page.** Each use case generates one `.html` file. Don't merge multiple pages.

7. **Generated files are artifacts.** They live in `output/html/` and should never be manually edited. To change content, update the messaging file and regenerate.

8. **Comments for traceability.** Include an HTML comment in `<head>` noting source messaging file path and generation date.

---

## Common Mistakes

| Mistake | Result | Fix |
|---|---|---|
| Leaving `- → ` prefix on pain bullets | Extra characters in rendered text | Strip prefix before inserting into `<p>` |
| Forgetting S3 sub-sections | Foundation section only has source tables | Always include source groups + knowledge items + stat row |
| Hardcoding colors instead of CSS variables | Breaks if brand updates | Use `var(--color-*)` for all colors |
| Missing accent transform | `**text**` renders as literal asterisks | Convert to `<span class="accent">text</span>` |
| Putting mint on light backgrounds | WCAG contrast failure (1.5:1) | Context-dependent CSS handles this — verify rules are correct |
| Using Raleway for body text | Brand violation | Raleway is display/headlines only. Body uses Inter. |
| Not parsing markdown tables | Raw markdown characters in output | Parse `\| col1 \| col2 \|` rows into `<table>` elements |
| Skipping word count validation | Hero title too long/short | Count words before writing |
| Using JavaScript for interactions | Unnecessary complexity | Pages are pure HTML + CSS. No JS. |
| External CSS file reference | Page not self-contained | All CSS must be embedded in `<style>` block |

---

## Verification Checklist

After generating a page file, verify:

- [ ] Valid HTML5 (DOCTYPE, html lang="en", proper head structure)
- [ ] Google Fonts link present for Inter and Raleway
- [ ] All CSS embedded in `<style>` block (no external stylesheets)
- [ ] Skip link present before first section
- [ ] All 8 sections present (S7 conditional)
- [ ] Section IDs match naming convention (s1-hero through s8-cta)
- [ ] Theme classes alternate correctly (dark, light, dark, light, warm, dark, light, dark)
- [ ] No banned words in any text content
- [ ] Hero H1 word count: 8–12
- [ ] Hero subtitle word count: 20–30
- [ ] CTA headline word count: 8–14
- [ ] `**accent**` markup converted to `<span class="accent">`
- [ ] Pain bullet prefixes stripped
- [ ] Foundation source groups parsed into `<table>` elements
- [ ] Setup times parsed into stat row
- [ ] S7 pattern matches `social_proof.type` value
- [ ] Responsive breakpoints included in CSS (991px, 767px, 478px)
- [ ] Accessibility: reduced-motion media query, focus-visible styles
- [ ] No JavaScript anywhere in the file
- [ ] Generation comment in `<head>` with source path and date
