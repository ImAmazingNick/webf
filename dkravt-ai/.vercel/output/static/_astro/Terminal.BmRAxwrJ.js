import"./disclose-version.DsnmJJEf.js";import{l as P,k as Z,m as V,o as J,q as Q,v as x,w as X,h as Y,e as y,x as C,u as ee,j as te,i as I,g as a,a as D,p as ae,b as se,$ as ne,d as A,f as E,s as o,c as b,r as h,n as oe,t as ie}from"./template.BDeKVD2u.js";import{s as re}from"./render.CR9eqhHU.js";import{i as le,h as ce}from"./html.CPnBHZza.js";import{e as L,i as j}from"./each.Boeb5Ze7.js";import{b as R,r as de}from"./this.CLeGsWn2.js";import{p as pe}from"./props.liwGhtV9.js";import{f as S}from"./constants.7GWjHd-e.js";function fe(e,i,f=i){var l=new WeakSet;P(e,"input",async n=>{var s=n?e.defaultValue:e.value;if(s=T(e)?z(s):s,f(s),x!==null&&l.add(x),await Z(),s!==(s=i())){var c=e.selectionStart,d=e.selectionEnd,u=e.value.length;if(e.value=s??"",d!==null){var p=e.value.length;c===d&&d===u&&p>u?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=c,e.selectionEnd=Math.min(d,p))}}}),(Q&&e.defaultValue!==e.value||V(i)==null&&e.value)&&(f(T(e)?z(e.value):e.value),x!==null&&l.add(x)),J(()=>{var n=i();if(e===document.activeElement){var s=X??x;if(l.has(s))return}T(e)&&n===z(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function T(e){var i=e.type;return i==="number"||i==="range"}function z(e){return e===""?null:+e}const ue={"/help":()=>["Available: /whoami /bio /projects /ideas /neofetch /smoke /status /now /glitch /rain /density /clear /date /echo [text]"],"/whoami":()=>[`${S.name} — ${S.role}`],"/bio":()=>["Building startups, raising kids, exploring AI,","thinking about philosophy, and trying to understand humans.",`Based in ${S.location}.`],"/projects":()=>['<span class="text-pink-400">IMPROVADO</span> — AI marketing intelligence platform','<span class="text-pink-400">DKRAVT.AI</span> — personal site & ideas','<span class="text-pink-400">STORIES</span> — illustrated mythological narratives'],"/ideas":()=>["01 Meta-Drama: The Pulsating Dance of Opposites","02 Epistemology Beyond Science","03 The Dopamine–Iron Link Nobody Explains","04 Token Monism: From Dualism to Unified Abstractions"],"/clear":()=>null,"/date":()=>[new Date().toLocaleString("en-US",{timeZone:"America/Los_Angeles"})],"/neofetch":()=>['<span class="text-pink-400">   ▄▄▄▄▄▄▄▄</span>   daniel@sf-fog','<span class="text-pink-400">  ██████████</span>   ------------------','<span class="text-pink-400"> ████</span><span class="text-emerald-300">▀███▀</span><span class="text-pink-400">████</span>   OS: Digital Fog 2026','<span class="text-pink-400">███</span>    DKRAVT   <span class="text-pink-400">███</span>   Kernel: AI + Epistemology','<span class="text-pink-400"> ████</span><span class="text-emerald-300">▄▄▄▄▄▄</span><span class="text-pink-400">████</span>   Uptime: building since 2014'],"/smoke":()=>["The best systems feel intuited, not engineered."],"/status":()=>["Status: building AI marketing intelligence • thinking about consciousness"],"/now":()=>{const e=["training attribution models","reading epistemology papers","debugging knowledge graphs","writing about consciousness"];return[e[Math.floor(Math.random()*e.length)]]},"/glitch":()=>"__MODE_GLITCH__","/rain":()=>"__MODE_RAIN__","/density":()=>[`Current fog density: ${Math.floor(58+Math.random()*18)}%`]};function me(e){const i=e.split(" "),f=i[0].toLowerCase(),l=i.slice(1);if(f.startsWith("/echo"))return[l.join(" ")||""];const n=ue[f];return n?n(l):[`command not found: ${f} (type /help)`]}var ve=E("<div><!></div>"),he=E('<button class="block w-full text-left px-5 py-1.5 text-sm font-mono text-zinc-400 hover:bg-zinc-800 hover:text-white transition"> </button>'),ge=E('<div class="absolute bottom-full left-0 right-0 bg-zinc-900 border border-zinc-800 rounded-t-lg max-h-48 overflow-y-auto"></div>'),xe=E('<section class="mb-20"><div class="terminal"><div class="terminal-header"><div class="flex items-center justify-between"><div class="flex gap-2"><div class="w-[12px] h-[12px] rounded-full bg-[#ff5f57]"></div> <div class="w-[12px] h-[12px] rounded-full bg-[#febc2e]"></div> <div class="w-[12px] h-[12px] rounded-full bg-[#28c840]"></div></div> <div class="text-[11px] font-mono text-zinc-500 tracking-wide">daniel@sf-fog — zsh</div> <div class="w-[60px]"></div></div></div> <div class="terminal-output"></div> <div class="relative px-5 py-3.5 bg-black border-t border-zinc-800 flex items-center"><span class="prompt font-mono mr-2.5 select-none">$</span> <input type="text" class="flex-1 bg-transparent outline-none text-emerald-200 font-mono text-sm placeholder-zinc-600" placeholder="type / for commands • ` to focus" autocomplete="off"/> <!></div></div> <div class="text-[10px] font-mono text-zinc-500 mt-3 text-center" style="letter-spacing: 0.15em;">real terminal • ↑↓ history • press `</div></section>');function Me(e,i){se(i,!0);let f=pe(i,"onModeChange",3,t=>{}),l=y(C([])),n=y(""),s=y(C([])),c=y(-1),d=y(!1),u,p;const K=["/help","/whoami","/bio","/projects","/ideas","/clear","/date","/echo [text]","/neofetch","/smoke","/status","/now","/glitch","/rain","/density"];function m(t){o(l,[...a(l),{html:t}],!0),requestAnimationFrame(()=>{p&&(p.scrollTop=p.scrollHeight)})}function U(){const t=a(n).trim();if(!t)return;o(s,[...a(s),t],!0),o(c,a(s).length,!0),m(`<span class="prompt">$</span> ${t}`);const r=me(t);if(r===null)o(l,[],!0);else if(r==="__MODE_GLITCH__")m('<span class="text-pink-400">glitch engaged for 0.8s</span>'),f()("glitch");else if(r==="__MODE_RAIN__")m('<span class="text-cyan-400">rain mode activated • falling for 12 seconds</span>'),f()("rain");else if(Array.isArray(r))for(const v of r)m(v);o(n,""),o(d,!1)}function H(t){if(t.key==="Enter")U();else if(t.key==="ArrowUp"){if(t.preventDefault(),a(s).length===0)return;o(c,Math.max(0,a(c)-1),!0),o(n,a(s)[a(c)],!0)}else t.key==="ArrowDown"?(t.preventDefault(),o(c,Math.min(a(s).length,a(c)+1),!0),o(n,a(c)<a(s).length?a(s)[a(c)]:"",!0)):t.key==="Escape"&&o(d,!1)}function W(t){const r=t.target.value;o(d,r==="/")}function B(t){o(n,t.split(" ")[0],!0),o(d,!1),u?.focus()}function F(t){t.key==="`"&&(t.preventDefault(),u?.focus())}ee(()=>{V(()=>{const t=new Date().toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});m(`Welcome to <span class="text-emerald-400">daniel@sf-fog</span> — ${t}`),m('The fog is thick today. Type <span class="text-cyan-400">/help</span> or press <span class="text-cyan-400">`</span>'),m("─".repeat(54))})});var M=xe();te("keydown",ne,F);var O=b(M),_=A(b(O),2);L(_,21,()=>a(l),j,(t,r)=>{var v=ve(),k=b(v);ce(k,()=>a(r).html),h(v),D(t,v)}),h(_),R(_,t=>p=t,()=>p);var $=A(_,2),g=A(b($),2);de(g),R(g,t=>u=t,()=>u);var N=A(g,2);{var q=t=>{var r=ge();L(r,21,()=>K,j,(v,k)=>{var w=he(),G=b(w,!0);h(w),ie(()=>re(G,a(k))),I("click",w,()=>B(a(k))),D(v,w)}),h(r),D(t,r)};le(N,t=>{a(d)&&t(q)})}h($),h(O),oe(2),h(M),I("keydown",g,H),I("input",g,W),fe(g,()=>a(n),t=>o(n,t)),D(e,M),ae()}Y(["keydown","input","click"]);export{Me as default};
