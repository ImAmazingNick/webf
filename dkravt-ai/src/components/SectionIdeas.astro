---
import { getCollection } from 'astro:content';

const ideas = (await getCollection('ideas')).sort((a, b) => (a.data.order ?? 99) - (b.data.order ?? 99));
---

<section id="ideas" class="mb-20">
  <h2 class="text-[27px] font-medium tracking-tight mb-8">Ideas worth reading</h2>
  <div class="space-y-3">
    {ideas.map((idea, i) => (
      <a
        href={`/ideas/${idea.id}`}
        class="idea-card visible group block"
        style={`transition-delay: ${i * 90}ms`}
      >
        <div class="flex items-start gap-5">
          <div class="text-[14px] font-mono text-zinc-600 group-hover:text-pink-400/70 transition pt-0.5">
            {String(i + 1).padStart(2, '0')}
          </div>
          <div class="flex-1 min-w-0">
            <div class="text-[17px] font-medium tracking-tight text-zinc-200 group-hover:text-white transition">{idea.data.title}</div>
            <div class="text-[13.5px] text-zinc-500 mt-1.5 leading-relaxed">{idea.data.description}</div>
          </div>
          <div class="text-zinc-600 group-hover:text-zinc-400 transition pt-1.5 shrink-0">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </div>
        </div>
      </a>
    ))}
  </div>
</section>
