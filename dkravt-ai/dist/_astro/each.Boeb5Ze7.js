import{D as F,E as P,q as R,F as H,G as Q,H as W,g as Y,J as Z,K as $,M as q,O as D,P as k,Q as j,R as ee,T as B,v as re,U as A,V as z,W as ne,X as ae,Y as fe,Z as le,_ as ie,a0 as ue,a1 as L,a2 as se,a3 as X,a4 as G,a5 as O,a6 as oe,a7 as te,a8 as ve,a9 as V,aa as de,ab as ce}from"./template.BDeKVD2u.js";function Ee(e,f){return f}function pe(e,f,l){for(var v=[],g=f.length,u,i=f.length,n=0;n<g;n++){let s=f[n];G(s,()=>{if(u){if(u.pending.delete(s),u.done.add(s),u.pending.size===0){var c=e.outrogroups;y(V(u.done)),c.delete(u),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var o=v.length===0&&l!==null;if(o){var a=l,t=a.parentNode;te(t),t.append(a),e.items.clear()}y(f,!o)}else u={pending:new Set(f),done:new Set},(e.outrogroups??=new Set).add(u)}function y(e,f=!0){for(var l=0;l<e.length;l++)ve(e[l],f)}var U;function Te(e,f,l,v,g,u=null){var i=e,n=new Map;{var o=e;i=R?H(Q(o)):o.appendChild(F())}R&&W();var a=null,t=fe(()=>{var d=l();return de(d)?d:d==null?[]:V(d)}),s,c=!0;function b(){_.fallback=a,ge(_,s,i,f,v),a!==null&&(s.length===0?(a.f&A)===0?X(a):(a.f^=A,S(a,null,i)):G(a,()=>{a=null}))}var r=P(()=>{s=Y(t);var d=s.length;let T=!1;if(R){var h=Z(i)===$;h!==(d===0)&&(i=q(),H(i),D(!1),T=!0)}for(var I=new Set,m=re,N=ae(),C=0;C<d;C+=1){R&&k.nodeType===j&&k.data===ee&&(i=k,T=!0,D(!1));var x=s[C],p=v(x,C),E=c?null:n.get(p);E?(E.v&&B(E.v,x),E.i&&B(E.i,C),N&&m.unskip_effect(E.e)):(E=he(n,c?i:U??=F(),x,p,C,g,f,l),c||(E.e.f|=A),n.set(p,E)),I.add(p)}if(d===0&&u&&!a&&(c?a=z(()=>u(i)):(a=z(()=>u(U??=F())),a.f|=A)),d>I.size&&ne(),R&&d>0&&H(q()),!c)if(N){for(const[J,K]of n)I.has(J)||m.skip_effect(K.e);m.oncommit(b),m.ondiscard(()=>{})}else b();T&&D(!0),Y(t)}),_={effect:r,items:n,outrogroups:null,fallback:a};c=!1,R&&(i=k)}function M(e){for(;e!==null&&(e.f&oe)===0;)e=e.next;return e}function ge(e,f,l,v,g){var u=f.length,i=e.items,n=M(e.effect.first),o,a=null,t=[],s=[],c,b,r,_;for(_=0;_<u;_+=1){if(c=f[_],b=g(c,_),r=i.get(b).e,e.outrogroups!==null)for(const p of e.outrogroups)p.pending.delete(r),p.done.delete(r);if((r.f&A)!==0)if(r.f^=A,r===n)S(r,null,l);else{var d=a?a.next:n;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),w(e,a,r),w(e,r,d),S(r,d,l),a=r,t=[],s=[],n=M(a.next);continue}if((r.f&O)!==0&&X(r),r!==n){if(o!==void 0&&o.has(r)){if(t.length<s.length){var T=s[0],h;a=T.prev;var I=t[0],m=t[t.length-1];for(h=0;h<t.length;h+=1)S(t[h],T,l);for(h=0;h<s.length;h+=1)o.delete(s[h]);w(e,I.prev,m.next),w(e,a,I),w(e,m,T),n=T,a=m,_-=1,t=[],s=[]}else o.delete(r),S(r,n,l),w(e,r.prev,r.next),w(e,r,a===null?e.effect.first:a.next),w(e,a,r),a=r;continue}for(t=[],s=[];n!==null&&n!==r;)(o??=new Set).add(n),s.push(n),n=M(n.next);if(n===null)continue}(r.f&A)===0&&t.push(r),a=r,n=M(r.next)}if(e.outrogroups!==null){for(const p of e.outrogroups)p.pending.size===0&&(y(V(p.done)),e.outrogroups?.delete(p));e.outrogroups.size===0&&(e.outrogroups=null)}if(n!==null||o!==void 0){var N=[];if(o!==void 0)for(r of o)(r.f&O)===0&&N.push(r);for(;n!==null;)(n.f&O)===0&&n!==e.fallback&&N.push(n),n=M(n.next);var C=N.length;if(C>0){var x=u===0?l:null;pe(e,N,x)}}}function he(e,f,l,v,g,u,i,n){var o=(i&le)!==0?(i&ie)===0?ue(l,!1,!1):L(l):null,a=(i&se)!==0?L(g):null;return{v:o,i:a,e:z(()=>(u(f,o??l,a??g,n),()=>{e.delete(v)}))}}function S(e,f,l){if(e.nodes)for(var v=e.nodes.start,g=e.nodes.end,u=f&&(f.f&A)===0?f.nodes.start:l;v!==null;){var i=ce(v);if(u.before(v),v===g)return;v=i}}function w(e,f,l){f===null?e.effect.first=l:f.next=l,l===null?e.effect.last=f:l.prev=f}export{Te as e,Ee as i};
